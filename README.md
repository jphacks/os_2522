# DareDakke?

[![IMAGE ALT TEXT HERE](https://jphacks.com/wp-content/uploads/2025/05/JPHACKS2025_ogp.jpg)](https://www.youtube.com/watch?v=lA9EluZugD8)

## 製品概要

### 背景（製品開発のきっかけ、課題等）

ハッカソンのような、多くの人が一堂に会す場では、久しぶりにあった人や会ったことはあるけれど名前が思い出せない人もしばしば。でも本人に直接「これまでにお会いしたことがありますか？」とは言いにくいですよね。
そんな悩みを解決するアプリを開発しました！

### 製品説明（具体的な製品の説明）

「DareDakke?」は、AR（拡張現実）技術と AI を活用して、”あの人、誰だっけ？”という気まずい瞬間をなくすための Android アプリケーションです。

スマートフォンのカメラを気になる人物に向けるだけで、以前に登録した人物であれば、その人の名前や前回話した内容の要約が画面上にポップアップ表示されます。初めて会う人であれば、その場で名前と顔を登録できます。さらに、会話のきっかけとなる話題を AI が提案する機能もあり、コミュニケーションを円滑にします。

### 特長

#### 1. AR カメラで顔を検知して顔と名前を記録

初めて会った人を検知したら、カメラで顔を検知。顔と名前を登録しておくことができます。

#### 2. 名前をポップアップで表示

これまでに会ったことがある人と再会すると、顔を検知して名前と前回の会話(要約)が表示されます。

#### 3. 再開前や会話の途中で話す話題を提案

久しぶりに会った人との会話は話題に困るもの。そんな時のために、話題の提案をします。

### 解決出来ること

-   **記憶の補助:** 一度会った人の顔と名前、さらには過去の会話内容を記録・表示することで、記憶を呼び起こす手助けをします。
-   **コミュニケーションの円滑化:** 「誰だっけ？」という気まずさを解消し、AI による話題提案機能で、久しぶりに会った人ともスムーズに会話を始められます。
-   **ネットワーキングの強化:** イベントや交流会などで、より多くの人との関係を構築・維持しやすくなります。

### 今後の展望

本来は XREAL One Pro のような AR グラスを使用して、よりシームレスな体験を目指していましたが、今回は費用と時間の都合で断念しました。AwardDay に進出した際には、AR グラスでの実装に挑戦し、ハンズフリーでの人物認識を実現したいと考えています。

### 注力したこと（こだわり等）

-   **オンデバイスでの高速な顔特徴量抽出:** ユーザーのプライバシーに配慮し、リアルタイム性を確保するため、顔検出（ML Kit）と特徴量抽出（TensorFlow Lite / MobileFaceNet）は全て Android デバイス上で完結させています。
-   **非同期処理による UX 向上:** 会話の音声データは、録音後にバックエンドへ非同期でアップロードされます。文字起こしと要約はバックグラウンドジョブとして実行されるため、ユーザーは処理を待つことなくアプリを使い続けられます。
-   **宣言的 UI による効率的な開発:** Android アプリの UI は全て Jetpack Compose で構築しました。これにより、状態管理が簡素化され、リアクティブでモダンな UI を効率的に実装できました。

## 開発技術

### 活用した技術

#### API・データ

-   **Go:** バックエンド API の実装。
-   **Gemini API:** 会話の要約、および会話の話題提案機能で使用。
-   **Google Cloud Speech-to-Text:** 会話音声の文字起こしで使用。

#### フレームワーク・ライブラリ・モジュール

-   **Backend:**
    -   **Gin:** Go 言語の HTTP Web フレームワーク。
    -   **GORM:** Go 言語の ORM ライブラリ。
-   **Android:**
    -   **Jetpack Compose:** 宣言的な UI ツールキット。
    -   **CameraX:** カメラ機能の実装を簡素化するライブラリ。
    -   **ML Kit Face Detection:** カメラ映像からの顔検出。
    -   **TensorFlow Lite (MobileFaceNet):** 検出した顔から特徴量ベクトルを生成。
    -   **Room:** ローカルデータベースによるデータ永続化。
    -   **Retrofit:** バックエンド API との通信。

#### デバイス

-   Android

### 独自技術

#### ハッカソンで開発した独自機能・技術

-   **顔認識と会話履歴の統合システム:** オンデバイスの顔特徴量抽出と、サーバーサイドでの高速な照合・会話履歴管理（要約含む）を組み合わせ、”誰と何を話したか”をシームレスに呼び出す仕組みを構築しました。
    -   こだわった点: `backend/internal/service/recognition_service.go` での顔特徴量ベクトルの類似度計算と、`daredakke/app/src/main/java/com/example/daredakke/ml/face/FaceRecognizer.kt` でのオンデバイス処理。
-   **非同期の音声処理パイプライン:** `WorkManager` を活用し、録音された音声のアップロード、文字起こし、Gemini による要約までをバックグラウンドで一貫して処理するパイプラインを実装しました。
    -   こだわった点: `backend/internal/handler/transcribe.go` での非同期ジョブ受付と、`daredakke/app/src/main/java/com/example/daredakke/workers/TranscriptionWorker.kt` でのクライアント側での処理。

*   独自で開発したものの内容をこちらに記載してください
*   特に力を入れた部分をファイルリンク、または commit_id を記載してください。
